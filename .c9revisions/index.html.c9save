{"ts":1341787747163,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"  <!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\n    \"http://www.w3.org/TR/html4/loose.dtd\">\n  <html>\n  <head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n    <title>Backbone invoices - by Michał Dąbrowski (dabrowski@brillante.pl)</title>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"css/app.css\">\n    <link rel=\"stylesheet\" href=\"https://raw.github.com/twitter/bootstrap/master/docs/assets/css/bootstrap.css\">\n\n    <!-- include source files here... -->\n    <script type=\"text/javascript\" src=\"js/jquery.min.js\"></script>\n    <script type=\"text/javascript\" src=\"js/jquery.date_format.js\"></script>\n    <script type=\"text/javascript\" src=\"js/json2.js\"></script>\n    \n    <script type=\"text/javascript\" src=\"js/underscore.js\"></script>\n    <script type=\"text/javascript\" src=\"js/backbone.js\"></script>\n    <script type=\"text/javascript\" src=\"js/backbone.localstorage.js\"></script>\n    \n    <script type=\"text/javascript\" src=\"http://cloud.github.com/downloads/SteveSanderson/knockout/knockout-2.1.0.js\"></script>\n    <script type=\"text/javascript\" src=\"http://cloud.github.com/downloads/kmalakoff/knockback/knockback-0.15.3.js\"></script>\n    \n    <script type=\"text/javascript\" src=\"js/invoice.js\"></script>\n\n\n  </head>\n  <body>\n    \n    <div id=\"page-container\">\n      <h3 id=\"small-header\">by Michał Dąbrowski</h3>\n      <h2 id=\"header\">Backbone invoices</h2>\n      <p>\n        A simple application demonstrating power of Backbone.js library. Its written in coffee-script and its using localStorage.\n        Project is Open Source, feel free to do whatever you want with it :) <br/>\n        On GitHub: <a href=\"https://github.com/defrag/Backbone-Invoices/\">https://github.com/defrag/Backbone-Invoices/</a>\n      </p>\n      \n      <div id=\"navigation\">\n        <ul class=\"pills\">\n          <li id=\"list-invoices-menu-item\" ><a href=\"#\" title=\"List invoices\">List invoices</a></li>\n          <li id=\"new-invoice-menu-item\"><a href=\"#new\"  title=\"New Invoice\">New Invoice</a></li>\n        </ul>\n      </div>\n      \n      <div id=\"app-container\">\n\n      </div>\n      \n    </div>\n    \n    \n    <script type=\"text/template\" id='invoice-list-template'>\n      <% if(collection.models.length > 0) { %>\n          <table>\n          <thead>\n            <tr>\n              <th>Number</th>\n              <th>Date</th>\n              <th>Total Price</th>\n              <th colspan=\"2\">Actions</th>\n            </tr>\n          </thead>  \n          <% collection.each(function(item) { %>\n            <tr>\n              <td><%= item.get('number') %></td>\n              <td><%= item.formattedDate() %></td>      \n              <td><%= item.getTotalPrice() %></td>                    \n              <td><a class=\"edit\" href=\"#invoices/<%= item.cid %>\">Edit</a></td>      \n              <td><a class=\"delete\" href=\"#delete\">Delete</a></td>              \n            </tr>  \n          <% }); %>\n          </table>\n      <% } else { %>\n          <h4>No invoices! <a href='#new'>Create one</a></h4>\n      <% } %>\n      \n    </script>\n    \n    <script type=\"text/template\" id='invoice-form-template'>\n      <form action=\"#\">\n       <div class=\"clearfix\">\n         <label>Date</label>\n         <div class=\"input\"><input type=\"text\" value=\"<%= model.formattedDate() %>\" name=\"date\" /></div>\n       </div>\n       \n       <div class=\"clearfix\">\n          <label>Number</label>\n          <div class=\"input\"><input type=\"text\" value=\"<%= model.get('number') %>\" name=\"number\" /></div>\n       </div>\n       \n       \n      \n       <div>\n          <label>Buyer details</label>\n          <div class=\"input\">\n            <textarea name=\"buyer_info\" rows=\"8\" cols=\"40\"><%= model.get('buyer_info') %></textarea>\n            <span class=\"help-block\"> Customer details go here. </span>\n          </div>\n       </div>\n       \n       <div>\n          <label>Seller details</label>\n          <div class=\"input\">\n            <textarea name=\"seller_info\" rows=\"8\" cols=\"40\"><%= model.get('seller_info') %></textarea>\n            <span class=\"help-block\"> Your company info. </span>\n          </div>\n       </div>\n       \n       <table class=\"items\">\n       <thead>\n        <tr>\n          <th>Quantity</th>\n          <th>Price</th>   \n          <th>Tax</th>     \n          <th>Description</th>\n          <th>Total</th>\n          <td>#</td>        \n        </tr>\n       </thead>  \n       <tbody class=\"line-items\"></tbody>\n       </table>\n       <div class=\"well\">\n         <button class=\"btn new-line-item\">New row</button>\n       \n         <button class=\"btn primary save-invoice\">Save</button>\n        </div> \n      </form>\n    </script>\n    \n    \n    <script type=\"text/template\" id='line-item-template'>\n\n      <td class=\"quantity\">         \n        <input type=\"text\" value=\"<%= model.get('quantity') %>\" name=\"quantity\" />\n      </td>\n       \n      <td class=\"price\">\n        <input type=\"text\" value=\"<%= model.get('price') %>\" name=\"price\" />\n      </td>\n       \n      <td class=\"tax-rate\">\n        <select name=\"tax_rate\">\n          <%= model.getTaxRatesOptionTag() %>                    \n        </select>\n      </td>\n       \n      <td>\n        <textarea name=\"descripion\" rows=\"2\" cols=\"30\"><%= model.get('description') %></textarea>               \n      </td>\n      <td>\n        <%= model.getTotalPrice() %>\n      </td>\n      <td>\n        <button class=\"btn danger remove-line-item\">(X)</button>      \n      </td>\n        \n        \n        \n    </script>\n    \n    \n  </body>\n  </html>\n  "]],"start1":0,"start2":0,"length1":0,"length2":5501}]],"length":5501}
